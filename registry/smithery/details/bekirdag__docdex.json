{
  "id": "bekirdag/docdex",
  "displayName": "docdex",
  "description": "# Docdex\n\n> **Turn your repository into fast, private context that humans and AI can trust.**\n\nDocdex is a **local-first indexer and search daemon** for documentation and source code. It sits between your raw files and your AI assistant, providing deterministic search, code intelligence, and persistent memory without ever uploading your code to a cloud vector store.\n\n## ‚ö° Why Docdex?\n\nMost AI tools rely on \"grep\" (fast but dumb) or hosted RAG (slow and requires uploads). Docdex runs locally, understands code structure, and gives your AI agents a persistent memory.\n\n| Problem | Typical Approach | The Docdex Solution |\n| --- | --- | --- |\n| **Finding Context** | `grep`/`rg` (Noisy, literal matches) | **Ranked, structured results** based on intent. |\n| **Code Privacy** | Hosted RAG (Requires uploading code) | **Local-only indexing.** Your code stays on your machine. |\n| **Siloed Search** | IDE-only search bars | **Shared Daemon** serving CLI, HTTP, and MCP clients simultaneously. |\n| **Code Awareness** | String matching | **AST & Impact Graph** to understand dependencies and definitions. |\n\n---\n\n## üöÄ Features\n\n* **üìö Document Indexing:** Rank and summarize repo documentation instantly.\n* **üß† AST & Impact Graph:** Search by function intent and track downstream dependencies (supports Rust, Python, JS/TS, Go, Java, C++, and more).\n* **üíæ Repo Memory:** Stores project facts, decisions, and notes locally.\n* **üë§ Agent Memory:** Remembers user preferences (e.g., \"Use concise bullet points\") across different repositories.\n* **üîå MCP Native:** Auto-configures for tools like Claude Desktop, Cursor, and Windsurf.\n* **üåê Web Enrichment:** Optional web search with local LLM filtering (via Ollama).\n\n---\n\n## üì¶ Set-and-Forget Install\n\nInstall once, point your agent at Docdex, and it keeps working in the background.\n\n### 1. Install via npm (Recommended)\n\nRequires Node.js >= 18. This will download the correct binary for your OS (macOS, Linux, Windows).\n\n```bash\nnpm i -g docdex\n\n```\n\n### 2. Auto-Configuration\n\nIf you have any of the following clients installed, Docdex automatically configures them to use the local MCP server:\n\n> **Claude Desktop, Cursor, Windsurf, Cline, Roo Code, Continue, VS Code, PearAI, Void, Zed, Codex.**\n\n*Note: Restart your AI client after installation.*\n\n---\n\n## üõ†Ô∏è Usage Workflow\n\n### 1. Index a Repository\n\nRun this once to build the index and graph data.\n\n```bash\ndocdexd index --repo /path/to/my-project\n\n```\n\n### 2. Start the Daemon\n\nStart the shared server. This handles HTTP requests and MCP connections.\n\n```bash\ndocdexd daemon --repo /path/to/my-project --host 127.0.0.1 --port 3210\n\n```\n\n### 3. Ask Questions (CLI)\n\nYou can chat directly from the terminal.\n\n```bash\ndocdexd chat --repo /path/to/my-project --query \"how does auth work?\"\n\n```\n\n---\n\n## üîå Model Context Protocol (MCP)\n\nDocdex is designed to be the \"brain\" for your AI agents. It exposes an MCP endpoint that agents connect to.\n\n### Architecture\n\n```mermaid\nflowchart LR\n  Repo[Repo on disk] --> Indexer[Docdex Indexer]\n  Indexer --> Daemon[Docdex Daemon]\n  Daemon -->|HTTP + SSE| MCPClient[MCP Client]\n  MCPClient --> Host[AI Agent / Editor]\n\n```\n\n### Manual Configuration\n\nIf you need to configure your client manually:\n\n**JSON (Claude/Cursor/Continue):**\n\n```json\n{\n  \"mcpServers\": {\n    \"docdex\": {\n      \"url\": \"http://localhost:3210/sse\"\n    }\n  }\n}\n\n```\n\n**TOML (Codex):**\n\n```toml\n[mcp_servers]\ndocdex = { url = \"http://localhost:3210/v1/mcp\" }\n\n```\n\n---\n\n## ü§ñ capabilities & Examples\n\n### 1. AST & Impact Analysis\n\nDon't just find the string \"addressGenerator\"; find the **definition** and what it impacts.\n\n```bash\n# Find definition\ncurl \"http://127.0.0.1:3210/v1/ast?name=addressGenerator&pathPrefix=src\"\n\n# Track downstream impact (what breaks if I change this?)\ncurl \"http://127.0.0.1:3210/v1/graph/impact?file=src/app.ts&maxDepth=3\"\n\n```\n\n### 2. Memory System\n\nDocdex allows you to store \"facts\" that retrieval helps recall later.\n\n**Repo Memory (Project specific):**\n\n```bash\n# Teach the repo a fact\ndocdexd memory-store --repo . --text \"Payments retry up to 3 times with backoff.\"\n\n# Recall it later\ndocdexd memory-recall --repo . --query \"payments retry policy\"\n\n```\n\n**Agent Memory (User preference):**\n\n```bash\n# Set a style preference\ndocdexd profile add --agent-id \"default\" --category style --content \"Use concise bullet points.\"\n\n```\n\n### 3. Local LLM (Ollama)\n\nDocdex uses Ollama for embeddings and optional local chat.\n\n* **Setup:** Run `docdex setup` for an interactive wizard.\n* **Manual:** Ensure `nomic-embed-text` is pulled in Ollama (`ollama pull nomic-embed-text`).\n* **Custom URL:**\n```bash\nDOCDEX_OLLAMA_BASE_URL=http://127.0.0.1:11434 docdexd daemon ...\n\n```\n\n\n\n---\n\n## ‚öôÔ∏è Configuration & HTTP API\n\nDocdex runs as a local daemon serving:\n\n* **CLI Commands:** `docdexd chat`\n* **HTTP API:** `/search`, `/v1/ast`, `/v1/graph/impact`\n* **MCP Endpoints:** `/v1/mcp` and `/sse`\n\n### Multi-Repo Setup\n\nRun a single daemon and mount additional repos on demand.\n\n```bash\ndocdexd daemon --repo /path/to/repo-a --port 3210\n\n# Mount another repo and capture its repo_id\ncurl -X POST \"http://127.0.0.1:3210/v1/initialize\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"rootUri\":\"file:///path/to/repo-b\"}'\n```\n\nNotes:\n- When more than one repo is mounted, include `x-docdex-repo-id: <sha256>` on HTTP requests.\n- MCP sessions bind to the repo provided in `initialize.rootUri` and reuse that repo automatically.\n\n### Security\n\n* **Secure Mode:** By default, Docdex enforces TLS on non-loopback binds.\n* **Loopback:** `127.0.0.1` is accessible without TLS for local agents.\n* To expose to a network (use with caution), use `--expose` and `--auth-token`.\n\n---\n\n## üìö Learn More\n\n* **Smithery:** [View on Smithery.ai](https://smithery.ai/server/@bekirdag/docdex)\n* **Detailed Usage:** `docs/usage.md`\n* **API Reference:** `docs/http_api.md`\n* **MCP Specs:** `docs/mcp/errors.md`\n",
  "createdAt": "2026-01-17T02:14:09.195Z",
  "links": {
    "homepage": "",
    "registry": "https://smithery.ai/server/bekirdag/docdex"
  },
  "connection": {
    "type": "stdio",
    "runtime": "node",
    "configSchema": {}
  },
  "capabilities": []
}